!function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=21)}([function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},,function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s}));const l="swell",n=" #04384c",r="swell-block-settings",s="/wp/v2/swell-block-settings"},function(e,t){e.exports=window.wp.blocks},,,,function(e,t,a){"use strict";var l=a(5);t.a=e=>({foreground:l.a,src:e})},function(e,t,a){var l;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var r=typeof l;if("string"===r||"number"===r)e.push(l);else if(Array.isArray(l)&&l.length){var s=n.apply(null,l);s&&e.push(s)}else if("object"===r)for(var o in l)a.call(l,o)&&l[o]&&e.push(o)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(l=function(){return n}.apply(t,[]))||(e.exports=l)}()},,,,,,function(e,t){e.exports=window.wp.serverSideRender},function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"loos/post-link","title":"関連記事","category":"swell-blocks","keywords":["swell","blogcard"],"supports":{"className":false},"example":{"attributes":{"isPreview":true}},"attributes":{"className":{"type":"string","default":""},"postTitle":{"type":"string","default":""},"postId":{"type":"string","default":""},"cardCaption":{"type":"string","default":""},"isNewTab":{"type":"boolean","default":false},"externalUrl":{"type":"string","default":""},"isPreview":{"type":"boolean","default":false},"rel":{"type":"string","default":""},"hideImage":{"type":"boolean","default":false},"hideExcerpt":{"type":"boolean","default":false},"isText":{"type":"boolean","default":false}},"textdomain":"swell"}')},,,function(e,t,a){"use strict";a.r(t);var l=a(3),n=a(2),r=a(6),s=a(1),o=a(0),c=a(17),i=a.n(c),p=a(18),u=[{attributes:{postTitle:{type:"string",default:""},postId:{type:"string",default:""},cardCaption:{type:"string",default:""},isNewTab:{type:"boolean",default:!1},externalUrl:{type:"string",default:""},isPreview:{type:"boolean",default:!1},rel:{type:"string",default:""}},save:({attributes:e})=>{const{postId:t,cardCaption:a,isNewTab:l,externalUrl:n}=e;let r="post_link";return t&&(r+=' id="'+t+'"'),a&&(r+=' cap="'+a+'"'),l&&(r+=' target="_blank"'),n&&(r+=' url="'+n+'"'),React.createElement("div",null,"["+r+"]")}}],d=React.createElement("div",{lass:"swell-block-postLink","data-style":"card"},React.createElement("div",{href:"###",className:"p-blogCard -internal","data-type":"type1"},React.createElement("div",{className:"p-blogCard__inner"},React.createElement("span",{className:"p-blogCard__caption"},"Related post."),React.createElement("div",{className:"p-blogCard__thumb c-postThumb"},React.createElement("figure",{className:"c-postThumb__figure"},React.createElement("img",{src:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",className:"c-postThumb__img u-obf-cover",alt:""}))),React.createElement("div",{className:"p-blogCard__body"},React.createElement("span",{className:"p-blogCard__title"},"Post Title"),React.createElement("span",{className:"p-blogCard__excerpt"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))))),m=a(11),b=a.n(m),f=Object(n.memo)(e=>{const{tabs:t,state:a,setState:l,className:n}=e;return React.createElement("div",{className:b()("swell-components-tab",n)},t.map(e=>React.createElement(o.Button,{isSecondary:a!==e.key,isPrimary:a===e.key,onClick:()=>{l(e.key)},key:"tabkey_"+e.key},e.label)))}),g=a(10);const y=Object(n.memo)(({postId:e,postTitle:t,externalUrl:a,isSelected:l,setAttributes:n,tabKey:r})=>React.createElement("div",{className:"swell-block-postLink__inputWrapper"},"internal"===r&&React.createElement("div",{className:"__internalArea"},React.createElement("input",{type:"text",className:"__idInput",value:e,placeholder:"IDを入力",onChange:e=>{e.preventDefault(),n({postId:e.target.value,externalUrl:""})}}),React.createElement(s.URLInput,{value:t,className:"__urlInput",autoFocus:!1,hasBorder:!0,placeholder:"タイトルを入力して記事を検索",disableSuggestions:!l,onChange:(e,t)=>{if(t){const e=t.title.replace("&#8211;","-");n({postId:t.id+"",postTitle:e,externalUrl:""})}else n({postTitle:e,postId:"",externalUrl:""})}})),"external"===r&&React.createElement("div",{className:"__externalArea"},React.createElement(o.TextControl,{className:"__externalInput",placeholder:"URLを直接入力してください。",value:a,onChange:e=>{n({externalUrl:e,postId:"",postTitle:"",isNewTab:!1})}}))));Object(r.registerBlockType)(p.name,{title:Object(l.__)("関連記事","swell"),description:Object(l.__)("関連記事をブログカード型で表示します。","swell"),icon:Object(g.a)("admin-links"),edit:({attributes:e,setAttributes:t,isSelected:a})=>{const{isPreview:r,postId:c,postTitle:p,externalUrl:u,cardCaption:m,isNewTab:b,rel:g,hideImage:_,hideExcerpt:w,isText:v}=e;if(r)return d;const x=u?"external":"internal",[R,E]=Object(n.useState)(x),k=Object(n.useMemo)(()=>{let e=g;return u&&!g&&(e="noopener noreferrer"),b&&!g&&(e="noopener noreferrer"),e},[g,u,b]),h=Object(s.useBlockProps)({className:"swell-block-postLink"});return React.createElement(React.Fragment,null,React.createElement(s.InspectorControls,null,React.createElement(o.PanelBody,{title:"設定",initialOpen:!0},React.createElement(o.ToggleControl,{className:"u-mb-10",label:Object(l.__)("テキストリンクで表示する","swell"),checked:v,onChange:e=>{t({isText:e})}}),React.createElement("div",{"data-swl-disable":v||null},React.createElement(o.ToggleControl,{className:"u-mb-10",label:Object(l.__)("画像を非表示にする","swell"),checked:_,onChange:e=>{t({hideImage:e})}}),React.createElement(o.ToggleControl,{className:"u-mb-10",label:Object(l.__)("抜粋文を非表示にする","swell"),checked:w,onChange:e=>{t({hideExcerpt:e})}}),React.createElement(o.TextControl,{label:"キャプション",value:m,onChange:e=>{t({cardCaption:e})}}))),React.createElement(o.PanelBody,{title:"リンク設定",initialOpen:!0},React.createElement(o.ToggleControl,{id:"loosbtn_is_new_open",label:Object(l.__)("Open in new tab"),help:"※ 外部サイトへのリンクでは、「新しいタブで開く」の設定は無視され、強制的にオンになります。",checked:!!u||b,className:u?"-is-external":null,onChange:e=>{const a=((e,t)=>{let a=t||"";return e?(-1===a.indexOf("noopener")&&(a+=" noopener"),-1===a.indexOf("noreferrer")&&(a+=" noreferrer")):(a=a.replace("noopener",""),a=a.replace("noreferrer","")),a.trim()})(e,g);t({isNewTab:e,rel:a})}}),React.createElement(o.TextControl,{label:Object(l.__)("Link rel"),value:k||"",onChange:e=>{t({rel:e})}}))),React.createElement("div",h,React.createElement("div",{className:"swell-block-postLink__preview"},c||u?React.createElement(i.a,{block:"loos/post-link",attributes:e}):React.createElement("div",{className:"swell-block-postLink__none"},"internal"===R?"※ ブログカードとして表示したい投稿を指定してください。":"※ ブログカードとして表示したいURLを入力してください。")),a&&React.createElement(React.Fragment,null,React.createElement(f,{className:"-post-link",tabs:[{key:"internal",label:"内部リンク"},{key:"external",label:"外部リンク"}],state:R,setState:E}),React.createElement(y,{postId:c,postTitle:p,externalUrl:u,isSelected:a,setAttributes:t,tabKey:R}))))},save:()=>null,deprecated:u})}]);